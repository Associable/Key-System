{% extends "base.html" %}

{% block content %}
<h1>Manage Keys</h1>
<form method="POST" action="{{ url_for('generate_key_route') }}">
    <label for="user">User:</label>
    <input type="text" id="user" name="user" required>
    <label for="duration">Duration (days):</label>
    <input type="number" id="duration" name="duration" required>
    <label for="hwid">HWID (optional):</label>
    <input type="text" id="hwid" name="hwid">
    <button type="submit">Generate Key</button>
</form>
<h2>Existing Keys</h2>
<table>
    <thead>
        <tr>
            <th>User</th>
            <th>Key</th>
            <th>Duration</th>
            <th>HWID</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for key in keys %}
        <tr>
            <td>{{ key.user }}</td>
            <td>{{ key.key }}</td>
            <td>{{ key.duration }}</td>
            <td>{{ key.hwid }}</td>
            <td><a href="{{ url_for('delete_key', key_id=key._id) }}">Delete</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
